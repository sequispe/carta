<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Carta digital</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
:root{
  --tele-h: 42px;
}

/* ===== RESET ===== */
*{ box-sizing: border-box; margin:0; padding:0; }

body{
  font-family: 'Poppins', sans-serif;
  background: #f5f2ee;
  color:#3b2314;
  padding-top: var(--tele-h);
}

/* ===== TELEPROMPTER ===== */
#teleprompter{
  position: fixed;
  top:0;
  left:0;
  width:100%;
  height: var(--tele-h);
  background:#806250;
  color:#fff;
  overflow:hidden;
  z-index:9999;
  display:none;
  align-items:center;
}

#tele-text{
  white-space: nowrap;
  padding-left:100%;
  font-weight:600;
  font-size:14px;
}

/* ===== HEADER ===== */
header{
  width:100%;
  max-height:220px;
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
}

header img{
  width:100%;
  height:auto;
  max-height:220px;
  object-fit:contain;
}

/* ===== DEMO CONTENT ===== */
main{
  padding:20px;
}

.banner{
  background:#fff;
  padding:14px 20px;
  border-radius:12px;
  display:inline-block;
  margin-top:20px;
  font-size:1.2rem;
  font-weight:600;
}
</style>
</head>

<body>

<!-- TELEPROMPTER -->
<div id="teleprompter">
  <div id="tele-text"></div>
</div>

<!-- HEADER -->
<header>
  <img src="img/logi1.jpg" alt="Logo">
</header>

<!-- CONTENIDO DEMO -->
<main>
  <div class="banner">Â¡Bienvenidos!</div>
</main>

<script>
/* ===== TELEPROMPTER LOGIC ===== */
fetch("teleprompter.json?cache=" + Date.now())
  .then(res => res.json())
  .then(cfg => {

    if (!cfg.activo) return;
    if (!cfg.mensaje || cfg.mensaje.trim() === "") return;

    const tele = document.getElementById("teleprompter");
    const text = document.getElementById("tele-text");

    text.textContent = cfg.mensaje;
    tele.style.display = "flex";

    const velocidad = cfg.velocidad || 22;

    let x = window.innerWidth;

    function mover(){
      x -= velocidad / 10;
      if (x < -text.offsetWidth) x = window.innerWidth;
      text.style.transform = `translateX(${x}px)`;
      requestAnimationFrame(mover);
    }

    mover();
  })
  .catch(err => console.error("Teleprompter error:", err));
</script>

</body>
</html>
